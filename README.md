# Веб-приложение "Почтальон"

## Описание:      
    Данное веб-приложение предназначено для отправки рассылок.
    Содержит два отдельных приложения приложения: 
    "mailing_service" - приложение, в котором прописана основная логика рассылок;    
    "users" - приложение для регистрации и авторизации пользователей,  
    а также для настройки доступа для авторизированных пользователей.
    Данное приложение разработано с помощью фреймворка Django.
    Подключена PostgreSQL для работы в проекте.
    Для кеширования используется redis.
---

## Содержание:
* ## <a id="title1">Описание</a>
* ## <a id="title1">Установка</a>
* ## <a id="title1">Описание файлов</a>
* ## <a id="title1">Команда проекта</a>
* ## <a id="title1">Источники</a>

---

## Установка:
1. #### Клонируйте репозиторий:
```commandline
python
git clone git@github.com:MikhailGubin/online_shop.git
```

2. #### Установите зависимости:
```commandline
python
poetry install
```

---

## Описание программы:

1. #### Приложение mailing_service 
##### Описание:
    Содержит слежующие веб-страницы: "Главная страница", страницы для создания, просмотра, редактирования и удаления 
    клиентов, сообщений, рассылок, для просмотра профиля полльзователя и его редактирования. Также в приложении
    настроен сбор и отображение информацию о количестве успешных/неуспешных попыток рассылок пользователя и количестве 
    отправленных сообщений.
    Организовано переключение по соответствующим ссылкам между этими страницами.
    Для данных веб-страниц созданы контроллеры, для которых настроена маршрутизация.
    Для стилизации страниц используется Bootstrap.     
    Созданы модели следующие модели:

    Модель «Получатель рассылки»:
    * Email (строка, уникальное).
    * Ф. И. О. (строка).
    * Комментарий (текст).
    
    Модель «Сообщение»:
    * Тема письма (строка).
    * Тело письма (текст).
    
    Модель «Рассылка»:
    * Дата и время первой отправки (datetime).
    * Дата и время окончания отправки (datetime).
    * Статус (строка: 'Завершена', 'Создана', 'Запущена').
    * Сообщение (внешний ключ на модель «Сообщение»).
    * Получатели («многие ко многим», связь с моделью «Получатель»).

    Модель «Попытка рассылки»:

    * Дата и время попытки (datetime).
    * Статус (строка: 'Успешно', 'Не успешно').
    * Ответ почтового сервера (текст).
    * Рассылка (внешний ключ на модель «Рассылка»).

    Реализована возможность отправки рассылки вручную через интерфейс пользователя и командную строку.    
    На главной странице должно отображаться количество всех рассылок, количество активных рассылок 
    (со статусом 'Запущена') и количество уникальных получателей.
    Также в приложении настроено серверное и клиентское кеширование для повышения производительности.
   
2. #### Приложение users 
##### Описание:
    Содержит веб-страницы "Регистрация пользователя", "Авторизация пользователя", подтверждения 
    блокировки пользователя и ряд страниц, связанных с восстановлением пароля.
    В сервисе реализованы функции авторизации и регистрации пользователя. После регистрации пользователя на почту
    приходит приветственное письмо с ссылкой, пройдя по которой пользователь получает токен и завершает регистрацию.
    Для авторизации необходимо ввести адрес электронной почты и пароля.
    Создана модель пользователя User наследующаяся от AbstractUser. Для этой модели создана миграция.
    Описание модели User:   
    * электронная почта,
    * аватар (изображение),
    * телефон,
    * страна.
    
    Электронная почта используется как поле для авторизации.
    Создана команда csu для создания суперпользователя.    
    
    Описание ролей и прав доступа:

    Пользователь:
    * Создание, просмотр, редактирование и удаление своих клиентов и рассылок.
    * Просмотр статистики по своим рассылкам.
    
    Менеджер:
    * Просмотр всех клиентов и рассылок.
    * Просмотр списка пользователей сервиса.
    * Блокировка пользователей сервиса.
    * Отключение рассылок.

    Доступ к страницам, связанным с рассылками, открыт только для авторизованных пользователей.
    Общедоступной остаётся только "Главная страница".    
    Настроена проверка наличия прав у пользователя при попытке отменить публикацию или удалить продукт.
    При создании клиента, сообщения, рассылки и попытки рассылки объекты автоматически привязывается к 
    авторизованному пользователю.  
    
---

## Команда проекта:
* Губин Михаил — Back-End Engineer

---

## Источники:
* курс лекций и учебных материалов учебного центра "SkyPro"
